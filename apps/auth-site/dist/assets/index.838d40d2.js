import{C as I,a as M,b as W,A as z,c as G,r as s,u as J,d as V,R as e,e as p,F as L,f as P,B as k,S as A,g as E,I as w,h as S,i as y,j as R,k as x,l as $,L as N,m as K,n as Q,H as T,o as X,p as U,N as _,q as Y,s as Z,t as ee}from"./vendor.8bb5b686.js";const te=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerpolicy&&(l.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?l.credentials="include":n.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}};te();const ne={UserPoolId:"ap-southeast-2_gw39jNQMX",ClientId:"58nmodulq3fcf1juh3gmjgfvog",Storage:new I({secure:!1,domain:window.location.hostname==="localhost"?"localhost":"lawnman.club"})};var C=new M(ne);const oe=async(t,o)=>await new Promise((r,a)=>{const n={Username:t,Password:o,Pool:C,Storage:new I({secure:!1,domain:window.location.hostname==="localhost"?"localhost":"lawnman.club"})},l=new W(n),c=new z({Username:t,Password:o});l.authenticateUser(c,{onSuccess:u=>{console.log("onSuccess: ",u),r(u)},onFailure:u=>{console.log("onFailure: ",u),a(u)},newPasswordRequired:u=>{console.log("newPasswordRequired: ",u),r(u)}})}),D=async(t,o,r)=>{const a=new G({Name:"name",Value:r});C.signUp(t,o,[a],[],(n,l)=>{n&&console.error(n),console.log(l)})},re=()=>new Promise((t,o)=>{const r=C.getCurrentUser();r||o("No local user found."),r==null||r.getSession((a,n)=>{a||!n?o("User found, but could not get session data."):t(n)})}),le=async()=>{try{const t=C.getCurrentUser();t==null||t.signOut()}catch(t){console.error(t)}},H=s.exports.createContext({});function ae({children:t}){const[o,r]=s.exports.useState(),[a,n]=s.exports.useState(),[l,c]=s.exports.useState(!1),[u,h]=s.exports.useState(!0),g=J(),i=V();s.exports.useEffect(()=>{a&&n(null)},[i.pathname]),s.exports.useEffect(()=>{re().then(m=>{console.log("inneruser",m),r(m)}).catch(m=>n(m)).finally(()=>h(!1))},[]);function d(m,b){c(!0),oe(m,b).then(f=>{r(f),g("/")}).catch(f=>n(f)).finally(()=>c(!1))}function j(m,b,f){c(!0),D(m,b,f).then(v=>{r(v),g("/")}).catch(v=>n(v)).finally(()=>c(!1))}function B(){c(!0),le().then(()=>{r(void 0),g("/")}).catch(m=>n(m)).finally(()=>c(!1))}const q=s.exports.useMemo(()=>({user:o,loading:l,error:a,performLogin:d,performSignup:j,performLogout:B}),[o,l,a]);return e.createElement(H.Provider,{value:q},!u&&t)}function F(){return s.exports.useContext(H)}function se(){const{user:t,performLogout:o}=F();return console.log(t),e.createElement(e.Fragment,null,e.createElement("h1",null,"Hello Add JuiceBox"),e.createElement("p",null,"Hellooo ",t.email," "),e.createElement("button",{onClick:o},"Log Out!!!!!!!!"))}const ce=p(L),ie=p(P);function ue(){const[t,o]=s.exports.useState(!1),r=()=>o(!t),[a,n]=s.exports.useState(""),[l,c]=s.exports.useState(""),{performLogin:u,user:h}=F(),g=async i=>{i.preventDefault();try{const d=await u(a,l);console.log("Logged In: ",d)}catch(d){console.error("Failed to Login: ",d)}};return console.log("inside Login::",h),e.createElement(k,{minW:{base:"90%",md:"468px"}},e.createElement("form",{onSubmit:g},e.createElement(A,{spacing:4,p:"1rem",backgroundColor:"whiteAlpha.900",boxShadow:"md"},e.createElement(E,null,e.createElement(w,null,e.createElement(S,{pointerEvents:"none",children:e.createElement(ce,{color:"gray.300"})}),e.createElement(y,{type:"email",placeholder:"email address",onChange:i=>n(i.target.value)}))),e.createElement(E,null,e.createElement(w,null,e.createElement(S,{pointerEvents:"none",color:"gray.300",children:e.createElement(ie,{color:"gray.300"})}),e.createElement(y,{type:t?"text":"password",placeholder:"Password",onChange:i=>c(i.target.value)}),e.createElement(R,{width:"4.5rem"},e.createElement(x,{h:"1.75rem",size:"sm",onClick:r},t?"Hide":"Show"))),e.createElement($,{textAlign:"right"},e.createElement(N,null,"forgot password?"))),e.createElement(x,{borderRadius:0,type:"submit",variant:"solid",colorScheme:"teal",width:"full"},"Login"))))}const O=p(L),me=p(P);function de(){const[t,o]=s.exports.useState(!1),r=()=>o(!t),[a,n]=s.exports.useState(""),[l,c]=s.exports.useState(""),[u,h]=s.exports.useState(""),g=async i=>{i.preventDefault();try{const d=await D(l,u,a);console.log("Signed Up: ",d)}catch(d){console.error("Failed to SignUp: ",d)}};return e.createElement(k,{minW:{base:"90%",md:"468px"}},e.createElement("form",{onSubmit:g},e.createElement(A,{spacing:4,p:"1rem",backgroundColor:"whiteAlpha.900",boxShadow:"md"},e.createElement(E,null,e.createElement(w,null,e.createElement(S,{pointerEvents:"none",children:e.createElement(O,{color:"gray.300"})}),e.createElement(y,{type:"text",placeholder:"username",onChange:i=>n(i.target.value)}))),e.createElement(E,null,e.createElement(w,null,e.createElement(S,{pointerEvents:"none",children:e.createElement(O,{color:"gray.300"})}),e.createElement(y,{type:"email",placeholder:"email address",onChange:i=>c(i.target.value)}))),e.createElement(E,null,e.createElement(w,null,e.createElement(S,{pointerEvents:"none",color:"gray.300",children:e.createElement(me,{color:"gray.300"})}),e.createElement(y,{type:t?"text":"password",placeholder:"Password",onChange:i=>h(i.target.value)}),e.createElement(R,{width:"4.5rem"},e.createElement(x,{h:"1.75rem",size:"sm",onClick:r},t?"Hide":"Show")))),e.createElement(x,{borderRadius:0,type:"submit",variant:"solid",colorScheme:"teal",width:"full"},"Signup"))))}p(L);p(P);function ge(){const[t,o]=s.exports.useState(!1);return e.createElement(K,{flexDirection:"column",width:"100wh",height:"100vh",backgroundColor:"gray.200",justifyContent:"center",alignItems:"center"},e.createElement(A,{flexDir:"column",mb:"2",justifyContent:"center",alignItems:"center"},e.createElement(Q,{bg:"teal.500"}),e.createElement(T,{color:"teal.400"},"Welcome"),t?e.createElement(de,null):e.createElement(ue,null)),e.createElement(k,null,t?"Go back to ":"New to us? ",e.createElement(N,{color:"teal.500",href:"#",onClick:()=>o(!t)},t?"Login":"Sign Up")))}const pe=()=>{const{user:t,performLogout:o}=F();function r({children:a}){return t?a:e.createElement(_,{to:"/login"})}return e.createElement(X,null,e.createElement(U,{path:"/",element:e.createElement(r,null,e.createElement("h1",null,"Base App"),e.createElement("p",null,"Hellooo ",t==null?void 0:t.email," "),e.createElement("button",{onClick:o},"Log Out!!!!!!!!"))}),e.createElement(U,{path:"/login",element:e.createElement(ge,null)}),e.createElement(U,{path:"/add-juicebox",element:e.createElement(se,null)}))};Y.render(e.createElement(s.exports.StrictMode,null,e.createElement(Z,null,e.createElement(ee,null,e.createElement(ae,null,e.createElement(pe,null))))),document.getElementById("root"));
